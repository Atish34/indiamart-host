import{h,p as x,r as a,B as m,j as s,m as j}from"./index-a34ac5e4.js";import{u as g,c as w,a as l}from"./index.esm-df8c1c2c.js";import{S as E}from"./Spinner-3bd5012a.js";import{C as b}from"./Container-16b23771.js";import{R as v}from"./Row-055a1def.js";import{C as S}from"./Col-685b5cc5.js";import{C as n}from"./Card-32d7de1d.js";import"./ThemeProvider-48707fb0.js";import"./CardHeaderContext-c8dce645.js";import"./divWithClassName-324694fd.js";const B=()=>{const i=h(),[c,{isSuccess:o,isError:t,isLoading:p,error:u}]=x(),e=g({initialValues:{email:"",password:""},validationSchema:w({email:l().required("Enter email"),password:l().required("Enter password")}),onSubmit:(r,{resetForm:f})=>{c(r),f()}}),d=r=>j({"form-control my-2":!0,"is-invalid":e.touched[r]&&e.errors[r],"is-valid":e.touched[r]&&!e.errors[r]});return a.useEffect(()=>{o&&(m.success("admin login success"),i("/admin"))},[o]),a.useEffect(()=>{localStorage.getItem("admin")&&i("/admin")},[i]),a.useEffect(()=>{t&&m.error(u.data.message||"something went wrong")},[t]),p?s.jsxs(s.Fragment,{children:["Please Wait...  ",s.jsx(E,{})]}):s.jsx(s.Fragment,{children:s.jsx(b,{children:s.jsx(v,{children:s.jsx(S,{sm:{span:6,offset:3},children:s.jsxs(n,{children:[s.jsx(n.Header,{children:"Admin Login"}),s.jsx(n.Body,{children:s.jsxs("form",{onSubmit:e.handleSubmit,children:[s.jsxs("div",{children:[s.jsx("input",{placeholder:"Enter Email",type:"email",...e.getFieldProps("email"),className:d("email")}),s.jsx("span",{className:"invalid-feedback",children:e.errors.email})]}),s.jsxs("div",{children:[s.jsx("input",{placeholder:"Enter Password",type:"password",...e.getFieldProps("password"),className:d("password")}),s.jsx("span",{className:"invalid-feedback",children:e.errors.password})]}),s.jsx("button",{className:"btn btn-dark",type:"submit",children:"Login"})]})})]})})})})})};export{B as default};
